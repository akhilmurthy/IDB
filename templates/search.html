{% extends "layout.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='../../../static/css/bootstrap.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='../../../static/css/button.css') }}">

    <span class="border-bottom-0"></span>

  <!-- Hero title page -->
    <h1 style = "font-family: 'Overwatch'"><p class="text-warning"><font size = "7">Search results for {{search_str}}</font></p></h1>

    <div class = "wrapper">

        {% if current_view != 'Hero' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Hero') }}'"> <span style="color:white; font-family: 'Overwatch'"> Heroes </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Hero') }}'"> <span style="color:white; font-family: 'Overwatch'"> Heroes </span></button>
        {% endif %}
      {% if current_view != 'Top Player' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Top Player') }}'"> <span style="color:white; font-family: 'Overwatch'"> Top Players </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Top Player') }}'"> <span style="color:white; font-family: 'Overwatch'"> Top Players </span></button>
        {% endif %}
      {% if current_view != 'Achievement' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Achievement') }}'"> <span style="color:white; font-family: 'Overwatch'"> Achievements </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Achievement') }}'"> <span style="color:white; font-family: 'Overwatch'"> Achievements </span></button>
        {% endif %}
       {% if current_view != 'Event' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Event') }}'"> <span style="color:white; font-family: 'Overwatch'"> Events </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Event') }}'"> <span style="color:white; font-family: 'Overwatch'"> Events </span></button>
        {% endif %}
        {% if current_view != 'Skin' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Skin') }}'"> <span style="color:white; font-family: 'Overwatch'"> Skins </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Skin') }}'"> <span style="color:white; font-family: 'Overwatch'"> Skins </span></button>
        {% endif %}
        {% if current_view != 'Item' %}
       <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Item') }}'"> <span style="color:white; font-family: 'Overwatch'"> Items </span></button>
        {% else %}
       <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = 'Item') }}'"> <span style="color:white; font-family: 'Overwatch'"> Items </span></button>
        {% endif %}
    </div>

    <br>
    <hr>
    {% if current_view == 'Hero' %}
    <div class="row">
      {% for item in hero_res %}
      <div class="col-lg-4 col-sm-6 text-center mb-4">
        <a href = "/heroes/{{item.hero_id}}">
         <img class="img-rounded" src="../../../static/media/heroes/{{item.hero_id}}.png" alt="" width="80%" height="80%">
        </a>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "6">{{item.hero_name}}</font></h3>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}

          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
    {% elif current_view == 'Top Player' %}
        <div class="row">
      {% for item in player_res %}
    <div class="col-lg-4 col-sm-6 text-center mb-4">
        <a href = "/players/{{item.top_player_id}}">
        <img class="img-rounded" src="../../../static/media/players/{{item.top_player_id}}.png" alt=" " height = "250" width = "250">
        </a>
        <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "6">{{item.top_player_name}} </font></h3>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}


          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
    {% elif current_view == 'Achievement' %}
  <div class="row">
    {% for item in achievement_res %}
    <div class="col-lg-4 col-sm-6 text-center mb-4">
      <a href = "/achievements/{{item.achievement_id}}">
      <img src="../../../static/media/achievements/{{item.achievement_id}}.png" alt=" " width=150 height=150></a>
      <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "6">{{item.achievement_name}}</font></h3>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}

          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
    {% elif current_view == 'Event' %}
  <div class="row">
    {% for item in event_res %}
    <div class="col-lg-4 col-sm-6 text-center mb-4">
      <a href = "/events/{{item.event_id}}">
      <img class="img-rounded" src="../../../static/media/events/{{item.event_id}}.jpg" alt=" " width="80%" height="80%">
      <h3 style="font-family: 'Overwatch'" class="text-warning">{{item.event_name}}</h3>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}

          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
    {% elif current_view == 'Skin' %}
  <div class="row">
    {% for item in skin_res %}
    <div class="col-lg-4 col-sm-6 text-center mb-4">
      <a href = "/skins/{{item.skin_id}}">
      <img class="img-rounded" src="../../../static/media/skins/{{item.skin_id}}.png" alt=" " width="250" height="250"></a>
      <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "6">{{item.skin_name}}</font></h3>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}

          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
    {% elif current_view == 'Item' %}
  <div class="row">
    {% for item in item_res %}
    <div class="col-lg-4 col-sm-6 text-center mb-4">
      <a href = "/items/{{item.item_id}}">
      {% if item.hero_id != None %}
      <img class="img-rounded" src="../../../static/media/items/{{item.item_id}}.png" alt=" " width="150" height="150">
      {% else %}
      <img class="img-rounded" src="../../../static/media/items/0.png" alt=" " width="150" height="150">
      {% endif %} 
      <h3 style="font-family: 'Overwatch'" class="text-warning"> {{item.item_name}}</h3></a>
         <h3 style="font-family: 'Overwatch'" class="text-warning"><font size = "3">
            {% for desc in search_hit[loop.index-1] %}
               {% if desc[0] == 0%} 
                  {{desc[1]}}
                {% else %}
                  <mark> {{desc[1]}} </mark>
                {% endif %}
              {% endfor %}

          </font>
         </h3>
      </div>
      {% endfor %}
    </div>
   {% endif %}    
    <div class = "wrapper">
      <div class = "pagination">
        {% for page in pagination.iter_pages() %}
          {% if page %}
               {% if page != page_num %}
                   <button class=button onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = current_view, page=page) }}'"> {{ page }} </button> 
               {% else %}
                   <button class=button2 onclick="window.location.href='{{ url_for('flaskrouter.search', search_str = search_str, current_view = current_view, page=page) }}'"> {{ page }} </button>  
               {% endif %}
          {% endif %}
        {% endfor %}
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
{% endblock %}
